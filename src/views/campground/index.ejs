<% layout('layouts/boilerplate')%>
<div class="mb-3">
  <h1>All campgrounds</h1>
  <div id="map" style="width: 100%; height: 400px"></div>
  <a href="campgrounds/new">Create new</a>
  <ul>
    <% campgrounds.map(camp => { %>
    <div class="card" style="width: 18rem">
      <img src="<%= camp.images[0].url %>" class="card-img-top" />
      <div class="card-body">
        <h5 class="card-title"><%= camp.title %></h5>
        <p class="card-text"><%= camp.description %></p>
        <a href="/campgrounds/<%= camp._id %>" class="btn btn-primary"
          >View <%= camp.title %></a
        >
      </div>
    </div>
    <% }) %>
  </ul>
</div>
<script>
  const mapToken = '<%= process.env.MAPBOX_TOKEN %>';
  const allCampgrounds = <%- JSON.stringify(campgrounds) %>;
</script>
<script src="/js/clusterMap.js"></script>
